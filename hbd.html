<!DOCTYPE html>
<html>

<head>
    <title>Kembang Api Love</title>
    <style>
        body {
            background-color: black;
            overflow: hidden;
        }

        #container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        .particle {
            position: absolute;
            width: 3px;
            height: 3px;
            background-color: white;
            border-radius: 50%;
            opacity: 0;
        }

        #text {
            position: absolute;
            top: 48%;
            /* Sesuaikan posisi vertikal teks */
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 20px;
            color: white;
            opacity: 0;
            transition: opacity 1s ease-in-out;
            font-family: sans-serif;
        }
    </style>
</head>

<body>
    <div id="container"></div>
    <div id="text">Happy birthday</div>
    <script>
        const container = document.getElementById('container');
        const textElement = document.getElementById('text');
        const numberOfParticles = 200;

        function createParticle(x, y, color) {
            const particle = document.createElement('div');
            particle.classList.add('particle');
            particle.style.left = `${x}px`;
            particle.style.top = `${y}px`;
            particle.style.backgroundColor = color;
            container.appendChild(particle);
            // Target posisi menggunakan persamaan parametrik untuk hati
            const t = Math.random() * Math.PI * 2;
            const scale = 20;
            const offsetX = -5;
            const offsetY = -10;
            const targetX = x + scale * 16 * Math.pow(Math.sin(t), 3) + offsetX;
            const targetY = y - scale * (13 * Math.cos(t) - 5 * Math.cos(2 * t) - 2 * Math.cos(3 * t) - Math.cos(4 * t)) + offsetY;
            // Animasi
            const duration = Math.random() * 1000 + 500;
            particle.animate([{
                transform: 'translate(0, 0)',
                opacity: 0
            }, {
                transform: `translate(${targetX - x}px, ${targetY - y}px)`,
                opacity: 1
            }], {
                duration: duration,
                easing: 'ease-out',
                fill: 'forwards'
            }).onfinish = () => {
                // Setelah animasi selesai, tampilkan teks
                setTimeout(() => {
                    textElement.style.opacity = 1;
                    // Tambahkan kembang api tambahan
                    createAdditionalFireworks();
                }, 500);
            };
        }

        function getRandomColor() {
            const letters = '0123456789ABCDEF';
            let color = '#';
            for (let i = 0; i < 6; i++) {
                color += letters[Math.floor(Math.random() * 16)];
            }
            return color;
        }
        const centerX = window.innerWidth / 2;
        const centerY = window.innerHeight / 2 - 50; // Sesuaikan posisi tengah vertikal
        for (let i = 0; i < numberOfParticles; i++) {
            createParticle(centerX, centerY, getRandomColor());
        }

        function createAdditionalFireworks() {
            const numberOfAdditionalParticles = 10; // Mengurangi jumlah partikel
            // Set interval untuk menjalankan kembang api tambahan setiap 5 menit
            setInterval(() => {
                for (let i = 0; i < numberOfAdditionalParticles; i++) {
                    const x = Math.random() * window.innerWidth;
                    const y = Math.random() * window.innerHeight;
                    createFireworkParticle(x, y, getRandomColor());
                }
            }, 300000); // 5 menit = 300000 ms
        }

        function createFireworkParticle(x, y, color) {
            const particle = document.createElement('div');
            particle.classList.add('particle');
            particle.style.left = `${x}px`;
            particle.style.top = `${y}px`;
            particle.style.backgroundColor = color;
            container.appendChild(particle);
            const targetX = x + (Math.random() - 0.5) * 150; // Mengurangi jarak mencar
            const targetY = y + (Math.random() - 0.5) * 150; // Mengurangi jarak mencar
            const duration = Math.random() * 1000 + 500;
            particle.animate([{
                transform: 'translate(0, 0)',
                opacity: 1
            }, {
                transform: `translate(${targetX - x}px, ${targetY - y}px)`,
                opacity: 0
            }], {
                duration: duration,
                easing: 'ease-out',
                fill: 'forwards'
            }).onfinish = () => {
                particle.remove();
            };
        }
    </script>
</body>

</html>
<!DOCTYPE html>
<html>

<head>
    <title>Musik Otomatis dengan Overlay</title>
    <style>
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            color: white;
            font-size: 20px;
            text-align: center;
            display: none;
            /* Sembunyikan overlay awalnya */
        }

        .overlay button {
            background-color: #4CAF50;
            border: none;
            color: white;
            padding: 15px 32px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            cursor: pointer;
            border-radius: 5px;
            margin-top: 20px;
        }
    </style>
</head>

<body>
    <audio id="myAudio" src="https://files.catbox.moe/yghrhd.mp3" autoplay loop></audio>
    <div class="overlay" id="lagOverlay">
        mau hadiah? tekan oke
        <button onclick="continuePlaying()">Oke</button>
    </div>
    <script>
        function continuePlaying() {
            var audio = document.getElementById('myAudio');
            var lagOverlay = document.getElementById('lagOverlay');
            audio.play(); // Coba putar audio lagi
            lagOverlay.style.display = 'none'; // Sembunyikan overlay
        }
        window.onload = function () {
            var audio = document.getElementById('myAudio');
            var lagOverlay = document.getElementById('lagOverlay');
            audio.muted = false;
            var playPromise = audio.play();
            if (playPromise !== undefined) {
                playPromise.then(function () {
                    // Autoplay berhasil
                }).catch(function (error) {
                    // Autoplay dicegah
                    console.log("Autoplay dicegah: " + error);
                    lagOverlay.style.display = 'flex'; // Tampilkan overlay
                });
            }
        };
    </script>
</body>

</html>
